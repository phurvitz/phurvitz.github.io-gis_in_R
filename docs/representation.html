<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Representation of spatial features | Reproducible GIS analysis with R</title>
  <meta name="description" content="Manual for CSDE Workshop ‘Reproducible GIS analysis with R’" />
  <meta name="generator" content="bookdown 0.24.4 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Representation of spatial features | Reproducible GIS analysis with R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Manual for CSDE Workshop ‘Reproducible GIS analysis with R’" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Representation of spatial features | Reproducible GIS analysis with R" />
  
  <meta name="twitter:description" content="Manual for CSDE Workshop ‘Reproducible GIS analysis with R’" />
  

<meta name="author" content="Phil Hurvitz" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="getting_started.html"/>
<link rel="next" href="import-export.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.0.4.1/leaflet-providers-plugin.js"></script>
<link href="libs/HomeButton-0.0.1/home-button.css" rel="stylesheet" />
<script src="libs/HomeButton-0.0.1/home-button.js"></script>
<script src="libs/HomeButton-0.0.1/easy-button-src.min.js"></script>
<script src="libs/clipboard-0.0.1/setClipboardText.js"></script>
<link href="libs/mapviewCSS-0.0.1/mapview-popup.css" rel="stylesheet" />
<link href="libs/mapviewCSS-0.0.1/mapview.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Reproducible GIS analysis with R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="getting_started.html"><a href="getting_started.html"><i class="fa fa-check"></i><b>2</b> Getting started</a>
<ul>
<li class="chapter" data-level="2.1" data-path="getting_started.html"><a href="getting_started.html#install-necessary-packages"><i class="fa fa-check"></i><b>2.1</b> Install necessary packages</a></li>
<li class="chapter" data-level="2.2" data-path="getting_started.html"><a href="getting_started.html#create-an-rstudio-project"><i class="fa fa-check"></i><b>2.2</b> Create an RStudio project</a></li>
<li class="chapter" data-level="2.3" data-path="getting_started.html"><a href="getting_started.html#download-files"><i class="fa fa-check"></i><b>2.3</b> Download files</a></li>
<li class="chapter" data-level="2.4" data-path="getting_started.html"><a href="getting_started.html#preview-data"><i class="fa fa-check"></i><b>2.4</b> Preview data</a></li>
<li class="chapter" data-level="2.5" data-path="getting_started.html"><a href="getting_started.html#save-your-project"><i class="fa fa-check"></i><b>2.5</b> Save your project</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="representation.html"><a href="representation.html"><i class="fa fa-check"></i><b>3</b> Representation of spatial features</a>
<ul>
<li class="chapter" data-level="3.1" data-path="representation.html"><a href="representation.html#points"><i class="fa fa-check"></i><b>3.1</b> Points</a></li>
<li class="chapter" data-level="3.2" data-path="representation.html"><a href="representation.html#linestrings"><i class="fa fa-check"></i><b>3.2</b> Linestrings</a></li>
<li class="chapter" data-level="3.3" data-path="representation.html"><a href="representation.html#polygons"><i class="fa fa-check"></i><b>3.3</b> Polygons</a></li>
<li class="chapter" data-level="3.4" data-path="representation.html"><a href="representation.html#conclusion"><i class="fa fa-check"></i><b>3.4</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="import-export.html"><a href="import-export.html"><i class="fa fa-check"></i><b>4</b> Importing and exporting spatial data sets</a>
<ul>
<li class="chapter" data-level="4.1" data-path="import-export.html"><a href="import-export.html#importing-spatial-data-sets"><i class="fa fa-check"></i><b>4.1</b> Importing spatial data sets</a></li>
<li class="chapter" data-level="4.2" data-path="import-export.html"><a href="import-export.html#export"><i class="fa fa-check"></i><b>4.2</b> Exporting spatial data</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="crs.html"><a href="crs.html"><i class="fa fa-check"></i><b>5</b> Handling projections and coordinate systems</a>
<ul>
<li class="chapter" data-level="5.1" data-path="crs.html"><a href="crs.html#projections-and-coordinate-systems"><i class="fa fa-check"></i><b>5.1</b> Projections and coordinate systems</a></li>
<li class="chapter" data-level="5.2" data-path="crs.html"><a href="crs.html#on-the-fly-projection-in-desktop-gis"><i class="fa fa-check"></i><b>5.2</b> On-the-fly projection in desktop GIS</a></li>
<li class="chapter" data-level="5.3" data-path="crs.html"><a href="crs.html#defining-a-data-sets-coordinate-reference-system"><i class="fa fa-check"></i><b>5.3</b> Defining a data set’s coordinate reference system</a></li>
<li class="chapter" data-level="5.4" data-path="crs.html"><a href="crs.html#coordinate-transformation"><i class="fa fa-check"></i><b>5.4</b> Coordinate transformation</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="geoprocessing.html"><a href="geoprocessing.html"><i class="fa fa-check"></i><b>6</b> Geoprocessing</a>
<ul>
<li class="chapter" data-level="6.1" data-path="geoprocessing.html"><a href="geoprocessing.html#buffering"><i class="fa fa-check"></i><b>6.1</b> Buffering</a></li>
<li class="chapter" data-level="6.2" data-path="geoprocessing.html"><a href="geoprocessing.html#point-in-polygon"><i class="fa fa-check"></i><b>6.2</b> Point-in-polygon</a></li>
<li class="chapter" data-level="6.3" data-path="geoprocessing.html"><a href="geoprocessing.html#polygon-on-polygon"><i class="fa fa-check"></i><b>6.3</b> Polygon-on-polygon</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="geoprocessing.html"><a href="geoprocessing.html#intersect"><i class="fa fa-check"></i><b>6.3.1</b> Intersect</a></li>
<li class="chapter" data-level="6.3.2" data-path="geoprocessing.html"><a href="geoprocessing.html#union"><i class="fa fa-check"></i><b>6.3.2</b> Union</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="leaflet.html"><a href="leaflet.html"><i class="fa fa-check"></i><b>7</b> <code>leaflet</code> and <code>mapview</code> maps</a></li>
<li class="chapter" data-level="8" data-path="source-code.html"><a href="source-code.html"><i class="fa fa-check"></i><b>8</b> Source code</a>
<ul>
<li class="chapter" data-level="8.1" data-path="source-code.html"><a href="source-code.html#r-code-used-in-this-document"><i class="fa fa-check"></i><b>8.1</b> R code used in this document</a></li>
<li class="chapter" data-level="8.2" data-path="source-code.html"><a href="source-code.html#complete-rmd-code"><i class="fa fa-check"></i><b>8.2</b> Complete Rmd code</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Reproducible GIS analysis with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="representation" class="section level1" number="3">
<h1><span class="header-section-number">Chapter 3</span> Representation of spatial features</h1>
<p>Vector (point, line, and polygon) features as used in the <code>sf</code> package are compliant with the <a href="https://www.opengeospatial.org/standards/sfa">Open Geospatial Consortium</a> standard.</p>
<p>To start, let’s load the <code>sf</code> and <code>dplyr</code> packages .</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="representation.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb3-2"><a href="representation.html#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code></pre></div>
<div id="points" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Points</h2>
<p>Points are stored as X and Y coordinates. In the folliwing code chunk we make a <code>sf</code> data frame from one point at the longitude and latitude representing the Space Needle. The option <code>crs = 4326</code> specifies to register the X and Y coordinates to WGS84 (<a href="https://spatialreference.org/ref/epsg/wgs-84/">EPSG code 4326</a>). More attention will be paid to coordinate systems in Chapter <a href="crs.html#crs">5</a>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="representation.html#cb4-1" aria-hidden="true" tabindex="-1"></a>snxy <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">name =</span> <span class="st">&quot;Space Needle&quot;</span>, <span class="at">x =</span> <span class="sc">-</span><span class="fl">122.3493</span>, <span class="at">y =</span> <span class="fl">47.6205</span>)</span>
<span id="cb4-2"><a href="representation.html#cb4-2" aria-hidden="true" tabindex="-1"></a>space_needle <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(snxy, <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;y&quot;</span>), <span class="at">crs =</span> <span class="dv">4326</span>)</span></code></pre></div>
<p>We can see a complete description of the data frame, which includes the geometry type, dimension, bounding box coordinates, spatial reference ID (“SRID”) and proj4 projection definition, and finally the contents of the data frame, incuding the column <code>geometry</code> that shows the longitude and latitude.</p>
<p>Importantly, the <code>sf</code> data frame is an extension of the data frame model. The data frame can consist of the same type of data you have been using in R, but with the addition of columns that contain OGC representations of vector features.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="representation.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(space_needle)</span></code></pre></div>
<pre><code>## Simple feature collection with 1 feature and 1 field
## Geometry type: POINT
## Dimension:     XY
## Bounding box:  xmin: -122.3493 ymin: 47.6205 xmax: -122.3493 ymax: 47.6205
## Geodetic CRS:  WGS 84
##           name                  geometry
## 1 Space Needle POINT (-122.3493 47.6205)</code></pre>
<p>The coordinates of the point can be extracted using the <code>st_coordinates()</code> function:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="representation.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">st_coordinates</span>(space_needle)</span></code></pre></div>
<pre><code>##           X       Y
## 1 -122.3493 47.6205</code></pre>
<p>Let’s add the coordinates of Savery Hall:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="representation.html#cb9-1" aria-hidden="true" tabindex="-1"></a>shxy <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">name =</span> <span class="st">&quot;Savery Hall&quot;</span>, <span class="at">x =</span> <span class="sc">-</span><span class="fl">122.3083</span>, <span class="at">y =</span> <span class="fl">47.6572</span>)</span>
<span id="cb9-2"><a href="representation.html#cb9-2" aria-hidden="true" tabindex="-1"></a>savery_hall <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(shxy, <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;y&quot;</span>), <span class="at">crs =</span> <span class="dv">4326</span>)</span>
<span id="cb9-3"><a href="representation.html#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="representation.html#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co"># rbind() to put two points in one data frame</span></span>
<span id="cb9-5"><a href="representation.html#cb9-5" aria-hidden="true" tabindex="-1"></a>pts <span class="ot">&lt;-</span> <span class="fu">rbind</span>(space_needle, savery_hall)</span></code></pre></div>
<p>View the data frame:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="representation.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(pts)</span></code></pre></div>
<pre><code>## Simple feature collection with 2 features and 1 field
## Geometry type: POINT
## Dimension:     XY
## Bounding box:  xmin: -122.3493 ymin: 47.6205 xmax: -122.3083 ymax: 47.6572
## Geodetic CRS:  WGS 84
##           name                  geometry
## 1 Space Needle POINT (-122.3493 47.6205)
## 2  Savery Hall POINT (-122.3083 47.6572)</code></pre>
<p>View the points in coordinate space:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="representation.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pts<span class="sc">$</span>geometry, <span class="at">axes =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="gis-R_files/figure-html/pts2-1.png" width="672" /></p>
</div>
<div id="linestrings" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Linestrings</h2>
<p>Linestrings are linear features created a single set of ordered pairs of points. We can use the set of points we created to generate a simple linestring <code>sf</code> data frame with two vertices:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="representation.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create a linestring sf data frame </span></span>
<span id="cb13-2"><a href="representation.html#cb13-2" aria-hidden="true" tabindex="-1"></a>lnstr <span class="ot">&lt;-</span> <span class="fu">st_sfc</span>(<span class="fu">st_linestring</span>(<span class="fu">st_coordinates</span>(pts)), <span class="at">crs =</span> <span class="dv">4326</span>)</span></code></pre></div>
<p>As with the point data frame we can add columns:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="representation.html#cb14-1" aria-hidden="true" tabindex="-1"></a>lnstr <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(lnstr) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">od =</span> <span class="st">&quot;Space Needle, Savery Hall&quot;</span>)</span></code></pre></div>
<p>And plot the points and linestring with base R graphics:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="representation.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pts<span class="sc">$</span>geometry, <span class="at">axes =</span> <span class="cn">TRUE</span>)</span>
<span id="cb15-2"><a href="representation.html#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="at">x =</span> <span class="fu">st_coordinates</span>(pts), <span class="at">labels =</span> pts<span class="sc">$</span>name)</span>
<span id="cb15-3"><a href="representation.html#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lnstr<span class="sc">$</span>geometry, <span class="at">col =</span> <span class="dv">2</span>, <span class="at">add =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="gis-R_files/figure-html/pts-ls-1.png" width="672" /></p>
<p>Of course, linestrings can have any number of vertices &gt; 1. <strong><em>Bonus</em></strong>: How would you construct a set of linestrings representing distinct days of GPS data collected from one study subject?</p>
</div>
<div id="polygons" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> Polygons</h2>
<p>Polygons are ordered collections of XY coordinates with at least 4 vertices. In order for the polygon to “close,” the first and last vertices need to be at the same XY location.</p>
<p>Let’s add another point to our collection:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="representation.html#cb16-1" aria-hidden="true" tabindex="-1"></a>zooxy <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">name =</span> <span class="st">&quot;Woodland Park Zoo&quot;</span>, <span class="at">x =</span> <span class="sc">-</span><span class="fl">122.3543</span>, <span class="at">y =</span> <span class="fl">47.6685</span>)</span>
<span id="cb16-2"><a href="representation.html#cb16-2" aria-hidden="true" tabindex="-1"></a>wp_zoo <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(zooxy, <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;y&quot;</span>), <span class="at">crs =</span> <span class="dv">4326</span>)</span>
<span id="cb16-3"><a href="representation.html#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="representation.html#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co"># rbind() to put two points in one data frame</span></span>
<span id="cb16-5"><a href="representation.html#cb16-5" aria-hidden="true" tabindex="-1"></a>pts <span class="ot">&lt;-</span> <span class="fu">rbind</span>(pts, wp_zoo)</span></code></pre></div>
<p>And construct a polygon using the coordinates of the set of three points and closed with a ccopy of the first point</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="representation.html#cb17-1" aria-hidden="true" tabindex="-1"></a>(plygn <span class="ot">&lt;-</span> <span class="fu">st_sfc</span>(<span class="fu">st_polygon</span>(<span class="fu">list</span>(<span class="fu">st_coordinates</span>(<span class="fu">rbind</span>(pts, space_needle)))), <span class="at">crs =</span> <span class="dv">4326</span>))</span></code></pre></div>
<pre><code>## Geometry set for 1 feature 
## Geometry type: POLYGON
## Dimension:     XY
## Bounding box:  xmin: -122.3543 ymin: 47.6205 xmax: -122.3083 ymax: 47.6685
## Geodetic CRS:  WGS 84</code></pre>
<pre><code>## POLYGON ((-122.3493 47.6205, -122.3083 47.6572,...</code></pre>
<p>Plotted with the other features:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="representation.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(plygn, <span class="at">col =</span> <span class="st">&quot;cyan&quot;</span>, <span class="at">axes =</span> <span class="cn">TRUE</span>)</span>
<span id="cb20-2"><a href="representation.html#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lnstr<span class="sc">$</span>geometry, <span class="at">col =</span> <span class="dv">2</span>, <span class="at">add =</span> <span class="cn">TRUE</span>, <span class="at">lwd =</span> <span class="dv">3</span>)</span>
<span id="cb20-3"><a href="representation.html#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pts<span class="sc">$</span>geometry, <span class="at">add =</span> <span class="cn">TRUE</span>, <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb20-4"><a href="representation.html#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="at">x =</span> <span class="fu">st_coordinates</span>(pts), <span class="at">labels =</span> pts<span class="sc">$</span>name)</span></code></pre></div>
<p><img src="gis-R_files/figure-html/plotgeoms-1.png" width="672" /></p>
</div>
<div id="conclusion" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> Conclusion</h2>
<p>It is more likely that you will be obtaining GIS data sources, rather than constructing your own using the types of functions shown above. However, understanding how these features are represented, created, and stored should give you a better understanding of how GIS works at a fundamental level.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="getting_started.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="import-export.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/020-representation.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["gis-R.pdf", "gis-R.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
